# 嵌入游戏本体

<div><br></div>

## 一. 完整打包嵌入

#### (一). 获取游戏本体

**1. 新建目录**
- 为了方便提取游戏，建议**新建一个游戏目录**。
  - 使用文件管理软件，在内部存储中新建一个文件夹。
  - 进入启动器版本管理，点击新建目录。
  - 输入一个名字，点击下方的编辑路径按钮，选择刚才新建的文件夹。

**2. 下载游戏**
- 确认选择好新目录后，在左侧侧边栏中切换到下载页。
- 安装你需要的版本，可以一并安装模组加载器。
- 启动一次你下载的版本，确保所有`资源`和`运行库`完整，游戏可以启动。

#### (二). 复制游戏配置

**1. 复制**
- 将之前的游戏配置复制到新的游戏目录。游戏相关的文件可以参考 [Minecraft Wiki](https://zh.minecraft.wiki/w/.minecraft#.minecraft%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84)
- 请确保你复制的`模组`、`资源包`、`数据包`等内容是**允许**加入整个包的。
- 有些作者可能**不允许**他们的作品以这种形式传播，请遵守相关的用户协议。

**2. 修改**
- 可以对配置进行适当修改，例如：
  - 适当降低画质以**降低设备要求**。
  - 关闭一些模组的调试性功能以**提升性能**。
  - **删除**存档和配置文件中含有你的`用户名`、`uuid`等**账户相关信息**的文件。
  - **删除**`日志`、`缓存`、`崩溃报告`等文件。

**3. 测试**
- 新建一个**离线账户**进行测试。
- 这样可以保证你的配置**可以正常启动**。
- 同时在`level.dat`等难以编辑的文件中，**账户信息也会被覆盖**。
- 测试完成后不要忘记**删除**`日志`等文件。

#### (三). 打包进启动器

**推荐使用 [MT管理器](https://mt2.cn/)**

**1. 打开apk**
- 使用文件管理器将启动器**apk文件**作为**压缩包**打开。
- 打开`/assets/.minecraft`文件夹。

**2. 添加游戏文件**
- 在文件管理器中新建标签页或使用另一侧文件列表。
- 打开之前**新建的游戏目录**下的`.minecarft`文件夹。
- 将**其中所有文件**添加到**apk文件**内`/assets/.minecraft`文件夹中。
- 确保压缩模式为**APK模式**，否则软件包安装程序可能无法解析apk。

**3. 签名apk**
- 使用**zip签名工具**（MT管理器 APK功能自带）进行签名。
- 如果没有自己的签名密钥，建议使用 [android_aosp_keys](https://github.com/wfairclough/android_aosp_keys) 提供的**testkey**。

<div><br></div>

## 二. 删除不必要的文件
在完整嵌入的基础上，可以选择**删除一些会自动下载的文件**，以减小安装包体积。

#### (一). 原版客户端

原版客户端中，可以删除这些文件：
- libraries
- assets/object

#### (二). 模组客户端

模组客户端中，要筛选必须的运行库，需要以另一种方式安装。

**1. 下载模组安装程序**
- 前往模组加载器的官网下载模组安装程序。
  - 注意选择正确的游戏版本。
  - 文件类型应当为**.jar**。

**2. 安装模组客户端**
- 删除游戏目录下的`libraries`文件夹
- 在启动器中使用 **执行jar文件** 功能。
- 进入模组安装器页面，确保选择了**之前创建的新目录**。
- 等待安装完成。

**3. 添加必须的运行库**
- 这时出现的运行库即来自模组安装器的运行库。
  - 这些文件无法自动下载，因此必须手动添加。
- 像原版一样删除那些文件后，**添加必须得运行库**即可。
